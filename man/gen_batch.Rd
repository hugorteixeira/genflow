% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/batch_functions.R
\name{gen_batch}
\alias{gen_batch}
\title{Run multiple generation tasks in parallel}
\usage{
gen_batch(
  qty = 8,
  instructions,
  add = NULL,
  one_item_each = NULL,
  add_img = NULL,
  agent_prefix,
  directory = "content",
  directory_img = "content",
  log = FALSE,
  always_fix_errors = TRUE
)
}
\arguments{
\item{qty}{Integer number of workers/tasks to launch.}

\item{instructions}{Character base prompt/context text.}

\item{add}{Optional additional context mixed into the prompt per worker.}

\item{one_item_each}{Optional list of per-worker items to include in prompts.}

\item{add_img}{Optional image input for vision-capable providers.}

\item{agent_prefix}{Character prefix used to locate agent configs in \code{.GlobalEnv}.}

\item{directory}{Character path to save chat/text artifacts.}

\item{directory_img}{Character path to save images.}

\item{log}{Logical; if TRUE, prints detailed logs.}

\item{always_fix_errors}{Logical; when TRUE (default) reuses successful results
from the previous run with the same signature and only re-executes failed
indices until the batch completes without errors.}
}
\value{
A list of length \code{qty + 1}, where the last element is named
\code{combined_stats} with aggregated timing and counts.
}
\description{
Orchestrates parallel generation tasks using \code{parallel} (parLapply on Windows,
mclapply on Unix-likes), collects results, prints timing metrics and errors,
and returns a list that optionally includes an \code{combined_stats} block.
}
\examples{
# gen_batch(2, instructions = "Describe a cat", agent_prefix = "agent")

}
