% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/agent_runtime.R
\name{gen_batch_agent}
\alias{gen_batch_agent}
\title{Execute a batch with a genflow agent}
\usage{
gen_batch_agent(
  agent,
  qty = 8,
  instructions,
  add = NULL,
  one_item_each = NULL,
  add_img = NULL,
  agent_prefix = NULL,
  directory = "content",
  directory_img = "content",
  log = FALSE,
  always_fix_errors = TRUE,
  ...
)
}
\arguments{
\item{agent}{A \code{genflow_agent} generated by \code{set_agent()} or \code{get_agent()}.}

\item{qty}{Number of batch items to generate.}

\item{instructions}{Character base prompt/context text.}

\item{add}{Optional additional context mixed into the prompt per worker.}

\item{one_item_each}{Optional list of per-worker items to include in prompts.}

\item{add_img}{Optional image input for vision-capable providers.}

\item{agent_prefix}{Optional prefix used for the temporary agents. Defaults
to the agent's \code{name}, \code{sname}, or "agent".}

\item{directory}{Character path to save chat/text artifacts.}

\item{directory_img}{Character path to save images.}

\item{log}{Logical; if TRUE, prints detailed logs.}

\item{always_fix_errors}{Logical; when TRUE (default) reuses successful results
from the previous run with the same signature and only re-executes failed
indices until the batch completes without errors.}

\item{...}{Additional arguments passed to \code{gen_batch()}.}
}
\value{
The result of \code{gen_batch()}.
}
\description{
Convenience wrapper that prepares temporary agent variables so that
\code{gen_batch()} can run with a single \code{genflow_agent}. Any temporary variables
are cleaned up (and previous values restored) once the batch completes.
}
